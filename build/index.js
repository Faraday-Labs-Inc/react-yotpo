"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e);function o(e){if(!e)return null;try{return Buffer.from(e,"base64").toString("ascii").split("/").pop()}catch(t){return console.error("Could not decode productId: "+e,t.message),null}}function n(t){void 0===t&&(t=200);var r=e.useMemo((function(){var e,r,o,n,i=window.yotpo?window.yotpo.refreshWidgets.bind(window.yotpo):function(){};return e=i,r=t,function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var a=this,u=function(){n=null,o||e.apply(a,t)},c=o&&!n;clearTimeout(n),n=setTimeout(u,r),c&&e.apply(a,t)}}),[t]);e.useEffect((function(){"undefined"!=typeof window&&window.yotpo&&r()}),[r])}var i=[{src:"//staticw2.yotpo.com/"+process.env.YOTPO_API_KEY+"/widget.js",type:"text/javascript",defer:!0}];exports.YOTPO_SCRIPTS=i,exports.YotpoReviews=function(t){var i=t.product,a=t.price,u=void 0===a?"":a,c=t.urlPath,d=void 0===c?"":c;n();var p=e.useMemo((function(){return o(i.id.toString())}),[i.id]);return r.default.createElement("div",{className:"yotpo yotpo-main-widget","data-product-id":p,"data-price":u,"data-currency":i.price.currencyCode,"data-name":i.name,"data-url":""+window.location.origin+d,"data-image-url":i.images[0].url,"data-description":i.description})},exports.YotpoScripts=function(){return r.default.createElement(e.Fragment,null,i.map((function(e){return r.default.createElement("script",{key:e.src,src:e.src,async:e.async,defer:e.defer,type:e.type})})))},exports.YotpoStarRating=function(t){var i=t.productId;n();var a=e.useMemo((function(){return o(i)}),[i]);return r.default.createElement("div",{className:"yotpo bottomLine","data-product-id":a})},exports.useYotpoRefresh=n;
//# sourceMappingURL=index.js.map
