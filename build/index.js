"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e);function o(e){if(!e)return null;try{return Buffer.from(e,"base64").toString("ascii").split("/").pop()}catch(t){return console.error("Could not decode productId: "+e,t.message),null}}function n(t){void 0===t&&(t=200);var r=e.useMemo((function(){var e,r,o,n,a=window.yotpo?window.yotpo.refreshWidgets.bind(window.yotpo):function(){};return e=a,r=t,function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var i=this,c=function(){n=null,o||e.apply(i,t)},u=o&&!n;clearTimeout(n),n=setTimeout(c,r),u&&e.apply(i,t)}}),[t]);e.useEffect((function(){"undefined"!=typeof window&&window.yotpo&&r()}),[r])}var a=[{src:"//staticw2.yotpo.com/"+process.env.YOTPO_API_KEY+"/widget.js",type:"text/javascript",defer:!0}];exports.YotpoReviews=function(t){var a=t.product,i=t.price,c=void 0===i?"":i,u=t.urlPath,d=void 0===u?"":u;n();var p=e.useMemo((function(){return o(a.pimSyncSourceProductId)}),[a.pimSyncSourceProductId]);return r.default.createElement("div",{className:"yotpo yotpo-main-widget","data-product-id":p,"data-price":c,"data-currency":a.priceRange.currencyCode,"data-name":a.title,"data-url":""+window.location.origin+d,"data-image-url":a.featuredMedia.src,"data-description":a.description})},exports.YotpoScripts=function(){return r.default.createElement(e.Fragment,null,a.map((function(e){return r.default.createElement("script",{key:e.src,src:e.src,async:e.async,defer:e.defer,type:e.type})})))},exports.YotpoStarRating=function(t){var a=t.productId;n();var i=e.useMemo((function(){return o(a)}),[a]);return r.default.createElement("div",{className:"yotpo bottomLine","data-product-id":i})},exports.useYotpoRefresh=n;
//# sourceMappingURL=index.js.map
