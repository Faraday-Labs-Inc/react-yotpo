import t,{useMemo as e,useEffect as r,Fragment as o}from"react";function n(t){if(!t)return null;try{return Buffer.from(t,"base64").toString("ascii").split("/").pop()}catch(e){return console.error("Could not decode productId: "+t,e.message),null}}function i(t){void 0===t&&(t=200);var o=e((function(){var e,r,o,n,i=window.yotpo?window.yotpo.refreshWidgets.bind(window.yotpo):function(){};return e=i,r=t,function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var c=this,a=function(){n=null,o||e.apply(c,t)},d=o&&!n;clearTimeout(n),n=setTimeout(a,r),d&&e.apply(c,t)}}),[t]);r((function(){"undefined"!=typeof window&&window.yotpo&&o()}),[o])}var c=function(r){var o=r.productId;i();var c=e((function(){return n(o)}),[o]);return t.createElement("div",{className:"yotpo bottomLine","data-product-id":c})},a=function(r){var o=r.product,c=r.price,a=void 0===c?"":c,d=r.urlPath,u=void 0===d?"":d;i();var p=e((function(){return n(o.pimSyncSourceProductId)}),[o.pimSyncSourceProductId]);return t.createElement("div",{className:"yotpo yotpo-main-widget","data-product-id":p,"data-price":a,"data-currency":o.priceRange.currencyCode,"data-name":o.title,"data-url":""+window.location.origin+u,"data-image-url":o.featuredMedia.src,"data-description":o.description})},d=[{src:"//staticw2.yotpo.com/"+process.env.YOTPO_API_KEY+"/widget.js",type:"text/javascript",defer:!0}],u=function(){return t.createElement(o,null,d.map((function(e){return t.createElement("script",{key:e.src,src:e.src,async:e.async,defer:e.defer,type:e.type})})))};export{a as YotpoReviews,u as YotpoScripts,c as YotpoStarRating,i as useYotpoRefresh};
//# sourceMappingURL=index.es.js.map
